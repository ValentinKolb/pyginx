
# [ debug | info | notice | warn | error | crit ]
error_log  /var/log/test.nginx.error_log  warn;

events {
}

http {
    # Connection Upgrade For Websocket Support
    map $http_upgrade $connection_upgrade {
        default upgrade;
        '' close;
    }
        
    # Upstreams
    upstream backend {
        # Round Robin;
        server localhost:80;
    }

    # HTTP(S) Servers
    server {

        listen 80;
        listen [::]:80;

        # Domain Of The Service
        server_name             example.com;

        # HSTS
        add_header Strict-Transport-Security "max-age=31536000; includeSubDomains" always;

        # Use Newest TLS Version
        ssl_protocols           TLSv1.3;

        # Locations
        location  /  {

            proxy_pass      http://backend;

            client_max_body_size        1MB;

        }
    }
}